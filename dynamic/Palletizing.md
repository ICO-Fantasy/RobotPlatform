# Palletizing

![机器人DH](../images/Palletizing/机器人DH.png)
![DH](../images/Palletizing/DH.png)

| J1, J2, J3 | J4, J5, J6 | E1, E2, E3 |
| ---------- | ---------- | ---------- |
| 基本轴     | 手腕轴     | 附加轴     |

则标准DH坐标为（坐标系符合右手坐标系，逆时针方向为旋转正方向）

|     | 沿x平移，从i到i+1 | 沿z平移，从i-1到i | 沿x旋转，从i到i+1 | 沿z旋转，从i-1到i | 沿z旋转（偏置） | 所在位置     |
| --- | ----------------- | ----------------- | ----------------- | ----------------- | --------------- | ------------ |
|     | a(mm)             | d(mm)             | α(°)              | theta(°)          | offset(°)       |              |
| C1  | 320               | 490               | -90°              | theta_1           |                 | J1的旋转中心 |
| C2  | 870               |                   | 0                 | theta_2           | -90°            | J2的旋转中心 |
| C3  | 225               |                   | 90°               | theta_3           |                 | J3的旋转中心 |
| C4  |                   | -1015             | 90°               | theta_4           |                 | J4的旋转中心 |
| C5  |                   |                   | -90°              | theta_5           |                 | J5的旋转中心 |
| C6  |                   | -175              | 180°              | theta_6           |                 | J6的旋转中心 |

计算正解时(注意先后顺序)
theta_3 = theta_2 + theta_3
theta_2 = -theta_2

![奇异点](../images/Palletizing/奇异点.png)

当机器人运动到奇异点时，逆解计算会出现无解的情况

**肩部奇异点：** 肩部奇异点是在机器人手腕的中心与J1轴关节在同一条直线上时发生。这种情况下，会导致关节轴1和4试图瞬间旋转180度。

**肘部奇异点：** 当机器人手腕的中心与关节轴2和3处于同一平面时，会产生肘部奇异点。肘部奇异点看起来像机器人“伸得太远”，导致肘部锁定在某个空间位置。

**腕部奇异点：** 当机器人的两个手腕轴（关节轴4和6）在同一条直线上时，就会发生这种情况，这可能会导致这些关节试图立即旋转180度。

初始状态（各轴角度均为0）时，实际上的旋转中心

| J1      | J2        | J3         | J4          | J5          | J6          |
| ------- | --------- | ---------- | ----------- | ----------- | ----------- |
| 0,0,490 | 320,0,490 | 320,0,1360 | 1155,0,1585 | 1335,0,1585 | 1510,0,1585 |

初始状态（各轴角度均为0）时，根据DH坐标计算得到的旋转中心

| J1    | J2      | J3        | J4         | J5          | J6          |
| ----- | ------- | --------- | ---------- | ----------- | ----------- |
| 0,0,0 | 320,0,0 | 320,0,870 | 320,0,1095 | 1335,0,1095 | 1335,0,1095 |

Puma机器人(PUMA 560)的标准DH

|     | 沿x平移，从i到i+1 | 沿z平移，从i-1到i | 沿x旋转，从i到i+1 | 沿z旋转（偏置） | 所在位置     |
| --- | ----------------- | ----------------- | ----------------- | --------------- | ------------ |
|     | a(mm)             | d(mm)             | α(°)              | offset(°)       |              |
| C1  |                   | d1                | 90°               |                 | J1的旋转中心 |
| C2  | a2                |                   | 0                 |                 | J2的旋转中心 |
| C3  | a3                | d3                | -90°              |                 | J3的旋转中心 |
| C4  |                   | d4                |                   |                 | J4的旋转中心 |
| C5  |                   |                   |                   |                 | J5的旋转中心 |
| C6  |                   |                   |                   |                 | J6的旋转中心 |

无偏移机器人的标准DH

|     | 沿x平移，从i到i+1 | 沿z平移，从i-1到i | 沿x旋转，从i到i+1 | 沿z旋转（偏置） | 所在位置     |
| --- | ----------------- | ----------------- | ----------------- | --------------- | ------------ |
|     | a(mm)             | d(mm)             | α(°)              | offset(°)       |              |
| C1  |                   | d1                | -90°              |                 | J1的旋转中心 |
| C2  | a2                |                   | 0                 |                 | J2的旋转中心 |
| C3  | a3                |                   | 90°               |                 | J3的旋转中心 |
| C4  |                   |                   |                   |                 | J4的旋转中心 |
| C5  |                   |                   |                   |                 | J5的旋转中心 |
| C6  |                   |                   |                   |                 | J6的旋转中心 |

具有偏移的一般情况下机器人的标准DH

|     | 沿x平移，从i到i+1 | 沿z平移，从i-1到i | 沿x旋转，从i到i+1 | 沿z旋转（偏置） | 所在位置     |
| --- | ----------------- | ----------------- | ----------------- | --------------- | ------------ |
|     | a(mm)             | d(mm)             | α(°)              | offset(°)       |              |
| C1  | a1                | d1                | -90°              |                 | J1的旋转中心 |
| C2  | a2                | d2                | 0                 |                 | J2的旋转中心 |
| C3  | a3                | d3                | 90°               |                 | J3的旋转中心 |
| C4  |                   |                   |                   |                 | J4的旋转中心 |
| C5  |                   |                   |                   |                 | J5的旋转中心 |
| C6  |                   |                   |                   |                 | J6的旋转中心 |

斯坦福臂式(RRP)机器人的标准DH

|     | 沿x平移，从i到i+1 | 沿z平移，从i-1到i | 沿x旋转，从i到i+1 | 沿z旋转（偏置） | 所在位置     |
| --- | ----------------- | ----------------- | ----------------- | --------------- | ------------ |
|     | a(mm)             | d(mm)             | α(°)              | offset(°)       |              |
| C1  | a1                | d1                | -90°              |                 | J1的旋转中心 |
| C2  | a2                | d2                | 90°               |                 | J2的旋转中心 |
| C3  | a3                | d3                | 0                 |                 | J3的旋转中心 |
| C4  |                   |                   |                   |                 | J4的旋转中心 |
| C5  |                   |                   |                   |                 | J5的旋转中心 |
| C6  |                   |                   |                   |                 | J6的旋转中心 |
